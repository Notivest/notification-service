spring.application.name=notification-service

# Datasource (PostgreSQL by default)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:notification_service}}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:notification_service}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:notification_service}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_MAX_POOL_SIZE:10}

# JPA & Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Flyway (runs against the same datasource)
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Deduplication
dedup.window-minutes=${DEDUP_WINDOW_MINUTES:5}

# Email
notification.email.from=${NOTIFICATION_EMAIL_FROM:notifications@example.com}
spring.mail.host=${SMTP_HOST:localhost}
spring.mail.port=${SMTP_PORT:1025}
spring.mail.username=${SMTP_USERNAME:}
spring.mail.password=${SMTP_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${SMTP_AUTH:false}
spring.mail.properties.mail.smtp.starttls.enable=${SMTP_STARTTLS:false}
